    PHP_CodeBrowser


    1. Structure
    2. Installation
    3. Usage
    4. View the results
    5. Contact information


1. Structure
------------------------------------------------------------------------

    |--> bin/           PHP_CodeBrowser scripts
    |--> src/           Source files for PHP_CodeBrowser
    |   |--> Plugins/   Plugins for different error handling/types
    |
    |--> templates/     Template files for PHP_CodeBrowser 
    |   |--> css/       Used CSS by templates, Color definition for errors
    |   |--> img/       Used images for PHP_CodeBrowser
    |   |--> js/        Used javascript for PHP_CodeBrowser
    |
    |--> tests/         PHPUnit test suite 
    |
    |--> package.xml    PEAR package information file
    |
    |--> LICENCE        Licence information
    |--> README         Structure and install information
    |--> CHANGELOG      Update information


2. Installation
------------------------------------------------------------------------

    a) Svn checkout
    ===============
    
    svn co svn://phpunit.de/phpunit/phpcb/trunk PHP_CodeBrowser
    
    b) Installation by PEAR
    ====================
    
    pear config-set preferred_state alpha
    pear channel-discover pear.phpunit.de
    pear install --alldeps phpunit/PHP_CodeBrowser
    

3. Usage
------------------------------------------------------------------------

    a) Shell usage
    ==============
    
    Usage: phpcb(.php|.bat) --log <dir> --output <dir> [--source <dir>]

    --log          Path to xml log files, e.g. generated by phpunit
    --output       Path to output directory (must differ from source directory)
    --source (opt) Path to project source

    In case of optional --source parameter definition its target directory will be 
    parsed. Errors from log files will be merged into parsed file list from target 
    directory, if match in path definition exists.
    Else only files from error logs will be parsed.
    
    b) Integration in cruisecontrol
    ===============================
    
    ...
    <target name="build" depends="...,phpcb" /> (phpcb should be called after xml file generation) 
    ...
    <target name="phpcb">
        <exec executable="phpcb">
            <arg line="--log path/to/log/dir
                       --output path/to/output/dir/
                       --source path/to/source/dir/" />
        </exec>
    </target>
    ...
    

4. View the results
------------------------------------------------------------------------

    a) Webbrowser
    =============
    
    Call the /path/to/defined/output/index.html    
    
    b) Cruisecontrol
    ================
    
    b.1) config.xml
    ---------------
    <publishers>
      <artifactspublisher dir="path/to/output" dest="artifacts/${project.name}" subdirectory="PhpCbIdentifier" />
      ...
    </publishers>
    
    b.2) path/to/cruisecontrol/webapps/cruisecontrol/main.jsp
    -------------
    <cruisecontrol:tab name="PHP_CodeBrowser" label="PHP_CodeBrowser">
      <cruisecontrol:artifactsLink>
         <iframe src="<%=request.getContextPath() %>/<%= artifacts_url %>/PhpCbIdentifier/index.html" class="tab-content">
         </iframe>
      </cruisecontrol:artifactsLink>
    </cruisecontrol:tab>
    

5. Contact information
------------------------------------------------------------------------

    If you have any questions you may get in contact with:
    Elger Thiele <elger.thiele@mayflower.de> 
    
    